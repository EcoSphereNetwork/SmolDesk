"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8893],{186:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"archive/old_docs/Smodesk-Mobile-Security","title":"OAuth2-Flow","description":"","source":"@site/archive/old_docs/Smodesk-Mobile-Security.md","sourceDirName":"archive/old_docs","slug":"/archive/old_docs/Smodesk-Mobile-Security","permalink":"/SmolDesk/en/archive/old_docs/Smodesk-Mobile-Security","draft":false,"unlisted":false,"editUrl":"https://github.com/EcoSphereNetwork/SmolDesk/edit/main/docs/archive/old_docs/Smodesk-Mobile-Security.md","tags":[],"version":"current","frontMatter":{"title":"OAuth2-Flow","description":""}}');var r=i(4848),s=i(8453);const c={title:"OAuth2-Flow",description:""},o=void 0,d={},l=[{value:"OAuth2-Flow",id:"oauth2-flow",level:2},{value:"Tokenweitergabe an Signaling",id:"tokenweitergabe-an-signaling",level:2},{value:"HMAC-Signierung",id:"hmac-signierung",level:2},{value:"AES-Datenkanalverschl\xfcsselung",id:"aes-datenkanalverschl\xfcsselung",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h2:"h2",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u26a0\ufe0f Diese Datei wurde archiviert. Die aktuelle Version befindet sich unter ",(0,r.jsx)(n.code,{children:"docs/development/security.md"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Dieser Abschnitt dokumentiert die Sicherheitsarchitektur der Mobile-App ab Phase 4."}),"\n",(0,r.jsx)(n.h2,{id:"oauth2-flow",children:"OAuth2-Flow"}),"\n",(0,r.jsxs)(n.p,{children:["Die App verwendet einen OAuth2-PKCE-Flow. Die Konfiguration befindet sich in ",(0,r.jsx)(n.code,{children:"src/config.ts"}),".\nNach erfolgreicher Autorisierung wird das Access Token sicher per ",(0,r.jsx)(n.code,{children:"react-native-keychain"})," gespeichert."]}),"\n",(0,r.jsx)(n.h2,{id:"tokenweitergabe-an-signaling",children:"Tokenweitergabe an Signaling"}),"\n",(0,r.jsxs)(n.p,{children:["Beim Aufbau der WebSocket-Verbindung sendet der Client eine Nachricht\n",(0,r.jsx)(n.code,{children:"{ type: 'auth', token: <ACCESS_TOKEN> }"}),". Erst nach Antwort ",(0,r.jsx)(n.code,{children:"authorized: true"}),"\nwird der Raum betreten."]}),"\n",(0,r.jsx)(n.h2,{id:"hmac-signierung",children:"HMAC-Signierung"}),"\n",(0,r.jsxs)(n.p,{children:["Optional kann eine SHA-256-HMAC \xfcber kritische Nachrichten gelegt werden. Die\nAktivierung und der Schl\xfcssel sind ebenfalls in ",(0,r.jsx)(n.code,{children:"config.ts"})," hinterlegt. Aktuell\nwerden ",(0,r.jsx)(n.code,{children:"join-room"}),", ",(0,r.jsx)(n.code,{children:"input_event"})," und ",(0,r.jsx)(n.code,{children:"clipboard_event"})," damit signiert."]}),"\n",(0,r.jsx)(n.h2,{id:"aes-datenkanalverschl\xfcsselung",children:"AES-Datenkanalverschl\xfcsselung"}),"\n",(0,r.jsxs)(n.p,{children:["Textbasierte Daten \xfcber den WebRTC-Datenkanal werden mit AES (256 Bit) in CBC-\nModus verschl\xfcsselt. Die IV ist 16\xa0Byte lang und wird Base64-kodiert vor das\nCiphertext geh\xe4ngt (",(0,r.jsx)(n.code,{children:"iv:cipher"}),"). Der Schl\xfcssel wird aus dem OAuth2-Login \xfcber\nPBKDF2 abgeleitet."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>o});var t=i(6540);const r={},s=t.createContext(r);function c(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);